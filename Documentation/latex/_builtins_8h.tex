\hypertarget{_builtins_8h}{}\doxysection{src/\+Virtual\+Machine/\+Builtins.h File Reference}
\label{_builtins_8h}\index{src/VirtualMachine/Builtins.h@{src/VirtualMachine/Builtins.h}}
{\ttfamily \#include \char`\"{}Errors.\+h\char`\"{}}\newline
Include dependency graph for Builtins.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{_builtins_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_builtins_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_builtin}{Builtin$<$ T, args $>$}}
\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespace_builtins}{Builtins}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}}~+\mbox{[}$\,$\mbox{]}(typename Grammar\+\_\+t\+::\+Virtual\+Machine\+State\+\_\+t$\ast$ vms, int arg) -\/$>$ void
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a25cc5743603132ee78d118a4ca039c68}{Builtins\+::X}} (Op\+::X, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(!vms-\/$>$xstack.\+empty());vms-\/$>$template push$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$(vms-\/$>$xstack.\+top());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool, bool, bool $>$ \mbox{\hyperlink{namespace_builtins_a63aa9c9543831f13170fc30166bfe139}{Builtins\+::\+And}} (Op\+::\+And, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(false);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool, bool, bool $>$ \mbox{\hyperlink{namespace_builtins_ab0b75bd55eb7a70ca6f4c785255c03e9}{Builtins\+::\+Or}} (Op\+::\+Or, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(true);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool, bool $>$ \mbox{\hyperlink{namespace_builtins_a10d2c0df2341b5de83159178d6902d40}{Builtins\+::\+Not}} (Op\+::\+Not, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$push(not vms-\/$>$template getpop$<$ bool $>$());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename T $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ T, bool, T, T $>$ \mbox{\hyperlink{namespace_builtins_abadd5f4188def3a49ec73f692460c9a2}{Builtins\+::\+If}} (Op\+::\+If, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) vms-\/$>$program.\+popn(arg);else \{\};\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}} \mbox{\hyperlink{namespace_builtins_aabb0d4a3c7b76af0d4cfd24c75b49324}{Builtins\+::\+Jmp}} (Op\+::\+Jmp, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$program.\+popn(arg);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}} \mbox{\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}} (Op\+::\+PopX, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$xstack.\+pop();\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool $>$ \mbox{\hyperlink{namespace_builtins_afc5e30bbc3268c0f88d8540421d453ff}{Builtins\+::\+Flip}} (Op\+::\+Flip, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool, double $>$ \mbox{\hyperlink{namespace_builtins_a0186ad77a288c4a3bced3c80fc66f9d9}{Builtins\+::\+FlipP}} (Op\+::\+FlipP, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) \{ p=0.\+0;\} assert(p$<$=1.\+0 and p $>$=0.\+0);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ bool, double $>$ \mbox{\hyperlink{namespace_builtins_aff0c50086ee5c361f3c9dbc900b56cd0}{Builtins\+::\+Safe\+FlipP}} (Op\+::\+Safe\+FlipP, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) p=0.\+0;else if(p $>$ 1.\+0) p=1.\+0;else if(p$<$ 0.\+0) p=0.\+0;vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}} \mbox{\hyperlink{namespace_builtins_a50cd0d3767c99002e9b9cf370c1752ba}{Builtins\+::\+Mem}} (Op\+::\+Mem, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ auto memindex=vms-\/$>$template memstack$<$ key\+\_\+t $>$().top();vms-\/$>$template memstack$<$ key\+\_\+t $>$().pop();if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex)==0) \{ vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]}=vms-\/$>$template gettop$<$ output\+\_\+t $>$();\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}} \mbox{\hyperlink{namespace_builtins_a16d673425b3dd05c202dbbed7923dc45}{Builtins\+::\+No\+Op}} (Op\+::\+No\+Op, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a0771c881975000f812bbb41fffcb9fb0}{Builtins\+::\+Recurse}} (Op\+::\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH}};return;\} auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a2bc2b89a6b231ea7a6b7c0af5fde8d6d}{Builtins\+::\+Safe\+Recurse}} (Op\+::\+Safe\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Recurse$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_aba98da4ed27e8cb0cfaaddcaf75df4cd}{Builtins\+::\+Mem\+Recurse}} (Op\+::\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);using mykey\+\_\+t=short;if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH}};return;\} auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(arg, x);if(vms-\/$>$template mem$<$ mykey\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ mykey\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ mykey\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a50cd0d3767c99002e9b9cf370c1752ba}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, mykey\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a7264c94c7c641d7a29d438f20c7a1298}{Builtins\+::\+Safe\+Mem\+Recurse}} (Op\+::\+Safe\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Mem\+Recurse$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a36006026f4b616a8212d0e984df085d3}{Builtins\+::\+Lexicon\+Recurse}} (Op\+::\+Lexicon\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH}};return;\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a414b26675113cb28682070ada4eacb98}{Builtins\+::\+Lexicon\+Safe\+Recurse}} (Op\+::\+Lexicon\+Safe\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Lexicon\+Recurse$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a7bb4bb45cad7bae4012a215442cb894f}{Builtins\+::\+Lexicon\+Mem\+Recurse}} (Op\+::\+Lexicon\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH}};return;\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(key, x);if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ key\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a50cd0d3767c99002e9b9cf370c1752ba}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, key\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_builtin}{Builtin}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_acb2139641b7848e88b3826e0fbc77ee9}{Builtins\+::\+Lexicon\+Safe\+Mem\+Recurse}} (Op\+::\+Lexicon\+Safe\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Lexicon\+Mem\+Recurse$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \})
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{_builtins_8h_ad05e94221ff2967761018674d5cbb960}\label{_builtins_8h_ad05e94221ff2967761018674d5cbb960}} 
\index{Builtins.h@{Builtins.h}!BUILTIN\_LAMBDA@{BUILTIN\_LAMBDA}}
\index{BUILTIN\_LAMBDA@{BUILTIN\_LAMBDA}!Builtins.h@{Builtins.h}}
\doxysubsubsection{\texorpdfstring{BUILTIN\_LAMBDA}{BUILTIN\_LAMBDA}}
{\footnotesize\ttfamily \#define B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA~+\mbox{[}$\,$\mbox{]}(typename Grammar\+\_\+t\+::\+Virtual\+Machine\+State\+\_\+t$\ast$ vms, int arg) -\/$>$ void}

